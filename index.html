<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>GA Timetable Generator - Departmental (With Delete Feature)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="stylesheet" href="styles.css"/>
</head>
<body>
<h1>GA Timetable Generator â€” Departmental</h1>

<div class="section">
  <h2>1. Lecturer Input</h2>
  <div style="margin-top:8px">
    <button onclick="addLecturer()">Add Lecturer</button>
    <button onclick="saveLecturers()">Save All Lecturers</button>
  </div>
  <div id="lecturerCount"></div>
  <div id="lecturerList"></div>
  <button onclick="deleteSelected('lecturer')">Delete Selected Lecturers</button>
</div>

<div class="section">
  <h2>2. Course Allocation</h2>
  <div style="margin-top:8px">
    <button onclick="addCourse()">Add Course</button>
    <button onclick="createCourseAllocationTable()">Create Course Allocation Table</button>
    <button onclick="continueToTimetable()">Continue to Timetable</button>
  </div>
  <div id="courseTableWrap" class="table-wrap"></div>
  <div id="courseList"></div>
  <button onclick="deleteSelected('course')">Delete Selected Courses</button>
</div>

<div class="section">
  <h2>3. Rooms</h2>
  <div style="margin-top:8px">
    <button onclick="addRoom()">Add Room</button>
    <button onclick="saveRooms()">Save Rooms</button>
  </div>
  <div id="roomCount"></div>
  <div id="roomList"></div>
  <button onclick="deleteSelected('room')">Delete Selected Rooms</button>
</div>

<div class="section">
  <h2>4. Timeslots</h2>
  <div style="margin-top:8px">
    <button onclick="addTimeslot()">Add Timeslot</button>
  </div>
  <div id="timeslotCount"></div>
  <div id="timeslotList"></div>
  <button onclick="deleteSelected('timeslot')">Delete Selected Timeslots</button>
</div>

<div class="section">
  <h2>5. Constraints / Custom Rules</h2>
  <div class="row" style="align-items:center">
    <input id="constraintText" placeholder="e.g. No class after 16:00; Dr X cannot teach on Mon" style="width:60%"/>
    <button onclick="addConstraint()">Add Constraint</button>
  </div>
  <div id="constraintList"></div>
  <button onclick="deleteSelected('constraint')">Delete Selected Constraints</button>
</div>

<div class="section" id="genSection" style="display:none">
  <h2>6. Generate Timetable</h2>
  <div>
    <label>Population Size: <input type="number" id="popSize" value="200" /></label>
    <label>Generations: <input type="number" id="generations" value="400" /></label>
  </div>
  <div style="margin-top:8px">
    <button onclick="generateTimetable()">Generate Timetable (GA)</button>
    <button onclick="downloadTimetablePDF()">Download Timetable PDF</button>
  </div>
  <div id="timetableWrap" class="table-wrap"></div>
</div>

<script src="app.js"></script>
</body>
</html>
